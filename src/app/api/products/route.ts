import { apiClient } from '@/lib/api-client'
import { NextResponse } from 'next/server'

const ids = [
  '000001/bis',
  '000005',
  '000011',
  '000017',
  '000018',
  '000024',
  '000025',
  '000027',
  '000032',
  '000033',
  '000034',
  '000037',
  '000044',
  '000045',
  '000046',
  '000048',
  '000053',
  '000062',
  '000066',
  '000079',
  '000088',
  '000092',
  '000111',
  '000116',
  '000118',
  '000119/b',
  '000121',
  '000122',
  '000125',
  '000127',
  '000133',
  '000142',
  '000146',
  '000147',
  '000152',
  '000158',
  '000161',
  '000163',
  '000168',
  '000173',
  '000179',
  '000180',
  '000188',
  '000189',
  '000191',
  '000197',
  '000204',
  '000205',
  '000206',
  '000208',
  '000213',
  '000222',
  '000226',
  '000228',
  '000235',
  '000237',
  '000238',
  '000252',
  '000253',
  '000254',
  '000271',
  '000274',
  '000282',
  '000284',
  '000313',
  '000330',
  '000337',
  '000348',
  '000370',
  '000375',
  '000399',
  '000416',
  '000434',
  '000474',
  '000475',
  '000522',
  '000524',
  '000531',
  '000532',
  '000552',
  '000581',
  '000595',
  '000603',
  '000604',
  '000606',
  '000640',
  '000654',
  '000655',
  '000661',
  '000667',
  '000672',
  '000685',
  '000725',
  '000726',
  '000744',
  '000745',
  '000755',
  '000792',
  '000834',
  '000890',
  '000923',
  '000932',
  '000934',
  '000941',
  '000946',
  '000948',
  '000957',
  '000964',
  '000970',
  '000974',
  '001004',
  '001009',
  '001010',
  '001012',
  '001013',
  '001025',
  '001032',
  '001035',
  '001038',
  '001039',
  '001042',
  '001043',
  '001044',
  '001049',
  '001055',
  '001062',
  '001063',
  '001064',
  '001072',
  '001076',
  '001085',
  '001094',
  '001098',
  '001099',
  '001121',
  '001122',
  '001123',
  '001131',
  '001132',
  '001145',
  '001147',
  '001157',
  '001159',
  '001162',
  '001172',
  '001173',
  '001174',
  '001179',
  '001180',
  '001181',
  '001183',
  '001184',
  '001190',
  '001193',
  '001195',
  '001197',
  '001200',
  '001209',
  '001215',
  '001216',
  '001219',
  '001233',
  '001238',
  '001240',
  '001242',
  '001244',
  '001246',
  '001248',
  '001249',
  '001251',
  '001252',
  '001255',
  '001259',
  '001260',
  '001275',
  '001278',
  '001305',
  '001309',
  '001312',
  '001314',
  '001327',
  '001328',
  '001330',
  '001341',
  '001346',
  '001348',
  '001349',
  '001352',
  '001355',
  '001356',
  '001358',
  '001367',
  '001372',
  '001373',
  '001383',
  '001387',
  '001388',
]

export async function GET() {
  const client = await apiClient()
  const res = await client.db.find({
    collection: 'products',
    pagination: false,
    limit: 1000,
    where: { warehouseId: { in: ids } },
    select: {
      warehouseId: true,
      name: true,
    },
  })

  const result = res.docs
  return NextResponse.json({
    ids: ids.length,
    prods: result.length,
    data: result,
  })
}
